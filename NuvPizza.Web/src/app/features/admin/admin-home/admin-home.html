<div class="admin-home-container">
  <div class="welcome-header">
    <h1>Bem-vindo, Chefe! üçï</h1>
    <p>Acompanhe seus resultados e gerencie a pizzaria.</p>
  </div>

  <!-- SE√á√ÉO: DASHBOARD DE FATURAMENTO -->
  <section class="dashboard-section">
    <div class="dashboard-header">
      <h2>Resumo Financeiro</h2>

      <div class="filters-toolbar">
        <div class="quick-filters">
          <button [class.active]="filtroAtivo() === 'hoje'" (click)="filtrarHoje()">Hoje</button>
          <button [class.active]="filtroAtivo() === 'semana'" (click)="filtrarSemana()">Semana</button>
          <button [class.active]="filtroAtivo() === 'mes'" (click)="filtrarMes()">M√™s</button>
        </div>

        <div class="custom-filters">
          <input type="date" [ngModel]="dataInicial()" (ngModelChange)="dataInicial.set($event)" />
          <span>At√©</span>
          <input type="date" [ngModel]="dataFinal()" (ngModelChange)="dataFinal.set($event)" />
          <button class="btn-filtrar" (click)="aplicarFiltroCustomizado()">Filtrar</button>
        </div>
      </div>
    </div>

    <!-- CARREGANDO -->
    <div *ngIf="carregando()" class="loading-dashboard">
      <i class="pi pi-spin pi-spinner"></i> Carregando dados...
    </div>

    <!-- CARDS DE ESTAT√çSTICA -->
    <div *ngIf="!carregando() && dadosFaturamento()" class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-icon"><i class="pi pi-dollar"></i></div>
        <div class="stat-info">
          <span class="stat-label">Faturamento (Produtos)</span>
          <h3 class="stat-value">{{ dadosFaturamento()?.faturamento | currency:'BRL' }}</h3>
        </div>
      </div>

      <div class="stat-card secondary">
        <div class="stat-icon"><i class="pi pi-car"></i></div>
        <div class="stat-info">
          <span class="stat-label">Total Gasto em Frete</span>
          <h3 class="stat-value">{{ dadosFaturamento()?.frete | currency:'BRL' }}</h3>
        </div>
      </div>

      <div class="stat-card warning">
        <div class="stat-icon"><i class="pi pi-chart-line"></i></div>
        <div class="stat-info">
          <span class="stat-label">Ticket M√©dio</span>
          <h3 class="stat-value">{{ dadosFaturamento()?.ticketMedio | currency:'BRL' }}</h3>
        </div>
      </div>

      <div class="stat-card info">
        <div class="stat-icon"><i class="pi pi-shopping-bag"></i></div>
        <div class="stat-info">
          <span class="stat-label">Qtd. Pedidos</span>
          <h3 class="stat-value">{{ dadosFaturamento()?.quantidadePedidos }}</h3>
        </div>
      </div>
    </div>
  </section>

  <!-- SE√á√ÉO: CONFIGURA√á√ïES DA LOJA -->
  <section class="settings-section">
    <h2>Configura√ß√µes Adicionais</h2>
    <div class="config-card">
      <div class="config-header">
        <i class="pi pi-video"></i>
        <div>
          <h3>V√≠deo Destaque (Card√°pio)</h3>
          <p>Insira um link de Youtube (embed), Shorts ou MP4 para rodar na tela de Pizzas.</p>
        </div>
      </div>
      <div class="config-action">
        <input type="text" placeholder="https://..." [ngModel]="videoDestaqueInput()"
          (ngModelChange)="videoDestaqueInput.set($event)" />
        <button class="btn-salvar" (click)="salvarVideoDestaque()" [disabled]="salvandoVideo()">
          <i class="pi" [ngClass]="salvandoVideo() ? 'pi-spin pi-spinner' : 'pi-save'"></i> Salvar
        </button>
      </div>
    </div>
  </section>

  <!-- SE√á√ÉO: A√á√ïES R√ÅPIDAS -->
  <section class="actions-section">
    <h2>Acesso R√°pido</h2>
    <div class="actions-grid">
      <div class="card-action" (click)="navegarPara('pedidos')">
        <i class="pi pi-shopping-cart"></i>
        <h3>Painel de Pedidos</h3>
        <p>Acompanhe e altere status em tempo real.</p>
      </div>

      <div class="card-action" (click)="navegarPara('produtos')">
        <i class="pi pi-list"></i>
        <h3>Gerenciar Card√°pio</h3>
        <p>Cadastre pizzas, bebidas e altere pre√ßos.</p>
      </div>
    </div>
  </section>

  <!-- TOAST NOTIFICATION -->
  <div *ngIf="toast().visivel" class="toast-custom" [ngClass]="toast().tipo">
    {{ toast().mensagem }}
  </div>
</div>