<div class="sucesso-container animate__animated animate__fadeIn">
  <div class="card-sucesso animate__animated animate__zoomIn">
    
    <div class="icone-check-wrapper">
      <div class="icone-check" [ngClass]="{'bg-success': isConfirmado(), 'bg-warning': !isConfirmado()}">
        @if (isConfirmado()) {
            <i class="bi bi-check-lg"></i>
        } @else {
            <div class="spinner-border text-light" role="status" style="width: 2.5rem; height: 2.5rem;"></div>
        }
      </div>
      @if (isConfirmado()) { <div class="ripple-effect"></div> }
    </div>

    <h1 class="titulo-sucesso">
        @if (isConfirmado()) { Pedido Recebido! ðŸŽ‰ } @else { Aguarde... }
    </h1>
    
    <p class="subtitulo-sucesso">{{ statusTexto() }}</p>

    @if (idPedido()) {
      <div class="order-ticket">
        <span class="ticket-label">Protocolo do Pedido</span>
        <div class="ticket-number">
          #{{ idPedido()?.substring(0,8)?.toUpperCase() }}
          <i class="bi bi-receipt ms-2 opacity-50"></i>
        </div>
        <small class="text-muted d-block mt-2">Guarde este nÃºmero para acompanhar.</small>
      </div>

      <button (click)="acompanharPedido()" class="btn-acompanhar pulse-button">
        <span>ðŸš€ Acompanhar em Tempo Real</span>
      </button>
    } 
    @else {
        <div class="alert alert-warning small">
            Seu pedido foi processado, mas nÃ£o conseguimos recuperar o nÃºmero aqui. Verifique seu WhatsApp/Email.
        </div>
        <a routerLink="/" class="btn-acompanhar">Voltar ao InÃ­cio</a>
    }
    
    <button (click)="router.navigate(['/'])" class="btn-link-secundario mt-4">
      <i class="bi bi-arrow-left me-1"></i> Voltar para a loja
    </button>
  </div>
</div>